<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<style>
    table, td, th {
        border: 1px solid black;
    }
    table {
        border-collapse: collapse;
        width: 70%;
    }
    th {
        height: 70px;
    }
</style>
<h3>Add New product</h3>
<input id="nameProduct" type="text" placeholder="Tên sản phẩm">
<button onclick="themMoi()">Thêm</button>
<h3>
    Display All Product
</h3>
<div id="tableProduct">

</div>
<script>
    let danhSachSanPham = ["Apple", "Samsung", "Xiaomi"];
    hienThiListSanPham();
    function hienThiListSanPham() {
        let result = "";
        // result += "<table id='tableProduct'>" +
        //          "<th>Ten san pham" +
        //          "<td></td>" +
        //          "<td colspan='2'>" + danhSachSanPham.length + "products</td>" +
        //     "</th>"
        result += "<table>" +
                "<tr>" +
                    "<th>Ten san pham</th>"+
                    "<td></td>"+
                    "<td>" +danhSachSanPham.length+ "products</td>"+
            "</tr>"
        for (let i=0; i<danhSachSanPham.length; ++i){
            result+=
                "<tr>" +
                    "<td>"+ danhSachSanPham[i] +"</td>"+
                    "<td><button onclick='edit(" + i + ")'>edit</button> </td>"+
                    "<td><button onclick='deleteProduct(" + i + ")'>edit</button> </td>"+
                "</tr>"
        }
        // for (let index = 0; index < danhSachSanPham.length; index++) {
        //     result += "<tr><td>" + danhSachSanPham[index] + "</td>" +
        //         "<td><button onclick='edit(" + index + ")'>Edit</button></td>" +
        //         "<td><button onclick='deleteProduct(" + index + ")'>Delete</button></td>" +
        //         "</tr>";
        // }
        result += "</table>";
        document.getElementById("tableProduct").innerHTML = result;
    }
    function themMoi() {
        let sanPham = document.getElementById("nameProduct");
        if (sanPham.value === "") {
            alert("Vui long dien ten san pham");
        } else {
            danhSachSanPham.push(sanPham.value);
        }
        // removeTable();
        hienThiListSanPham();
    }
    // function removeTable() {
    //     let table = document.getElementById("tableProduct");
    //     table.remove();
    // }

    // result += "<table>" +
    //     "<tr>" +
    //     "<th>Ten san pham</th>"+
    //     "<td></td>"+
    //     "<td>" +danhSachSanPham.length+ "products</td>"+
    //     "</tr>"
    // for (let i=0; i<danhSachSanPham.length; ++i){
    //     result+=
    //         "<tr>" +
    //         "<td>"+ danhSachSanPham[i] +"</td>"+
    //         "<td><button onclick='edit(" + i + ")'>edit</button> </td>"+
    //         "<td><button onclick='deleteProduct(" + i + ")'>edit</button> </td>"+
    //         "</tr>"
    // }

    function edit(temp) {
        let result  = "";
        result += "<table>" +
            "<tr>" +
            "<th>Ten san pham</th>"+
            "<td></td>"+
            "<td>" +danhSachSanPham.length+ "products</td>"+
            "</tr>"
        for (let index = 0; index < danhSachSanPham.length; index++) {
            if (temp === index) {
                result += "<tr>" +
                    "<td><input id='edit' type='text' value='" +danhSachSanPham[index]+ "'>"+ "</td>" +
                    "<td><button onclick='update(" + index + ")'>Update</button></td>" +
                    "<td><button onclick='deleteProduct(" + index + ")'>Delete</button></td>" +
                    "</tr>";
            }else {
                result += "<tr>" +
                    "<td>" + danhSachSanPham[index] + "</td>" +
                    "<td><button onclick='edit(" + index + ")'>Edit</button></td>" +
                    "<td><button onclick='deleteProduct(" + index + ")'>Delete</button></td>" +
                    "</tr>";
            }
        }
        result += "</table>";
        document.getElementById("tableProduct").innerHTML = result;

    }

    function update(temp) {
        let tenMoi = document.getElementById("edit").value;
        for (let index = 0; index < danhSachSanPham.length; index++){
            if(temp === index){
                danhSachSanPham[index] = tenMoi;
            }
        }
        hienThiListSanPham();
    }




</script>
</body>
</html>